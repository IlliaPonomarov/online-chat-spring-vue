{"ast":null,"code":"import Main from \"@/pages/Main\";\nimport { createRouter, createWebHistory } from \"vue-router/dist/vue-router\";\nimport WebSocketGreetings from \"@/components/WebSocketGreetings\";\nimport Login from \"@/pages/Login\";\nimport Registration from \"@/pages/Registration\";\nimport Chat from \"@/pages/Chat\";\nconst routes = [{\n  path: \"/hello\",\n  component: Chat,\n  name: \"hello\"\n}, {\n  path: '/chat',\n  component: WebSocketGreetings,\n  name: 'chat'\n}, {\n  path: '/auth/login',\n  name: \"login\",\n  component: Login,\n  meta: {\n    guest: true\n  }\n}, {\n  path: '/auth/singup',\n  name: \"singup\",\n  component: Registration,\n  meta: {\n    guest: true\n  }\n}];\nconst router = createRouter({\n  routes,\n  history: createWebHistory()\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/auth/login', '/auth/singup'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n  console.log(loggedIn);\n\n  if (authRequired && loggedIn) {\n    next('/auth/login');\n  } else if (!loggedIn) {\n    next('/hello');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Main","createRouter","createWebHistory","WebSocketGreetings","Login","Registration","Chat","routes","path","component","name","meta","guest","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem","console","log"],"sources":["C:/Users/hp/IdeaProjects/chat-vue-spring/src/frontend-chat/src/router/router.js"],"sourcesContent":["import Main from \"@/pages/Main\";\r\nimport {createRouter, createWebHistory} from \"vue-router/dist/vue-router\";\r\nimport WebSocketGreetings from \"@/components/WebSocketGreetings\";\r\nimport Login from \"@/pages/Login\";\r\nimport Registration from \"@/pages/Registration\";\r\nimport Chat from \"@/pages/Chat\";\r\n\r\n\r\nconst routes = [\r\n\r\n    {\r\n        path: \"/hello\",\r\n        component: Chat,\r\n        name: \"hello\",\r\n    },\r\n\r\n    {\r\n        path: '/chat',\r\n        component: WebSocketGreetings,\r\n        name: 'chat'\r\n    },\r\n\r\n\r\n    {\r\n        path: '/auth/login',\r\n        name: \"login\",\r\n        component: Login,\r\n        meta: {guest: true }\r\n    },\r\n\r\n    {\r\n        path: '/auth/singup',\r\n        name: \"singup\",\r\n        component: Registration,\r\n        meta: {guest: true }\r\n    },\r\n\r\n\r\n];\r\n\r\nconst router = createRouter({\r\n    routes,\r\n    history: createWebHistory(),\r\n\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n\r\n    const publicPages = ['/auth/login', '/auth/singup'];\r\n    const authRequired = !publicPages.includes(to.path);\r\n    const loggedIn = localStorage.getItem('user');\r\n\r\n\r\n    console.log(loggedIn)\r\n\r\n\r\n    if (authRequired && loggedIn) {\r\n        next('/auth/login');\r\n    }\r\n    else if (!loggedIn){\r\n        next('/hello')\r\n    }\r\n    else {\r\n        next();\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\nexport default router;"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,cAAjB;AACA,SAAQC,YAAR,EAAsBC,gBAAtB,QAA6C,4BAA7C;AACA,OAAOC,kBAAP,MAA+B,iCAA/B;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAGA,MAAMC,MAAM,GAAG,CAEX;EACIC,IAAI,EAAE,QADV;EAEIC,SAAS,EAAEH,IAFf;EAGII,IAAI,EAAE;AAHV,CAFW,EAQX;EACIF,IAAI,EAAE,OADV;EAEIC,SAAS,EAAEN,kBAFf;EAGIO,IAAI,EAAE;AAHV,CARW,EAeX;EACIF,IAAI,EAAE,aADV;EAEIE,IAAI,EAAE,OAFV;EAGID,SAAS,EAAEL,KAHf;EAIIO,IAAI,EAAE;IAACC,KAAK,EAAE;EAAR;AAJV,CAfW,EAsBX;EACIJ,IAAI,EAAE,cADV;EAEIE,IAAI,EAAE,QAFV;EAGID,SAAS,EAAEJ,YAHf;EAIIM,IAAI,EAAE;IAACC,KAAK,EAAE;EAAR;AAJV,CAtBW,CAAf;AAgCA,MAAMC,MAAM,GAAGZ,YAAY,CAAC;EACxBM,MADwB;EAExBO,OAAO,EAAEZ,gBAAgB;AAFD,CAAD,CAA3B;AAMAW,MAAM,CAACE,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EAGlC,MAAMC,WAAW,GAAG,CAAC,aAAD,EAAgB,cAAhB,CAApB;EACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACR,IAAxB,CAAtB;EACA,MAAMc,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB;EAGAC,OAAO,CAACC,GAAR,CAAYJ,QAAZ;;EAGA,IAAIF,YAAY,IAAIE,QAApB,EAA8B;IAC1BJ,IAAI,CAAC,aAAD,CAAJ;EACH,CAFD,MAGK,IAAI,CAACI,QAAL,EAAc;IACfJ,IAAI,CAAC,QAAD,CAAJ;EACH,CAFI,MAGA;IACDA,IAAI;EACP;AACJ,CApBD;AAyBA,eAAeL,MAAf"},"metadata":{},"sourceType":"module"}