{"ast":null,"code":"import User from '../model/user';\nimport store from '../store/index';\nimport { mapActions, mapState } from 'vuex';\nexport default {\n  name: \"LoginForm\",\n\n  data() {\n    return {\n      user: new User('', ''),\n      loading: false,\n      message: ''\n    };\n  },\n\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n\n    ...mapState({\n      singup: state => state.isRegistration\n    })\n  },\n\n  mounted() {\n    if (this.loggedIn) this.$router.push('/hello');\n  },\n\n  methods: {\n    registration() {\n      store.commit('setRegistration', true);\n    },\n\n    handleLogin() {\n      this.loading = true;\n\n      if (this.user.username === undefined || this.user.password === undefined) {\n        this.message = \"Incorrect Username or Password!\";\n        this.loading = false;\n      }\n\n      if (this.user.username && this.user.password) {\n        this.$store.dispatch('auth/login', this.user).then(() => {\n          this.$router.push({\n            path: '/auth/login'\n          });\n        }, errors => {\n          this.loading = false;\n          this.message = errors.response && errors.response.data || errors.message || errors.toString();\n        });\n      }\n    },\n\n    ...mapActions({\n      auth: \"auth/login\"\n    })\n  }\n};","map":{"version":3,"mappings":"AAqEA,OAAOA,IAAP,MAAiB,eAAjB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAAQC,UAAR,EAAoBC,QAApB,QAAmC,MAAnC;AACA,eAAe;EACbC,IAAI,EAAE,WADO;;EAGbC,IAAI,GAAE;IACJ,OAAO;MACLC,IAAI,EAAE,IAAIN,IAAJ,CAAS,EAAT,EAAa,EAAb,CADD;MAELO,OAAO,EAAE,KAFJ;MAGLC,OAAO,EAAE;IAHJ,CAAP;EAKD,CATY;;EAYbC,QAAQ,EAAE;IACRC,QAAQ,GAAG;MACT,OAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,MAAvB,CAA8BJ,QAArC;IACD,CAHO;;IAKR,GAAGP,QAAQ,CAAC;MACVY,MAAM,EAAEH,KAAI,IAAKA,KAAK,CAACI;IADb,CAAD;EALH,CAZG;;EAuBXC,OAAO,GAAE;IACP,IAAI,KAAKP,QAAT,EACE,KAAKQ,OAAL,CAAaC,IAAb,CAAkB,QAAlB;EAEL,CA3BY;;EA+BbC,OAAO,EAAE;IAEPC,YAAY,GAAE;MACZpB,KAAK,CAACqB,MAAN,CAAa,iBAAb,EAAiC,IAAjC;IAED,CALM;;IAOPC,WAAW,GAAG;MACZ,KAAKhB,OAAL,GAAe,IAAf;;MAEA,IAAI,KAAKD,IAAL,CAAUkB,QAAV,KAAuBC,SAAvB,IAAoC,KAAKnB,IAAL,CAAUoB,QAAV,KAAuBD,SAA/D,EAA0E;QACxE,KAAKjB,OAAL,GAAe,iCAAf;QACA,KAAKD,OAAL,GAAe,KAAf;MACF;;MAIA,IAAI,KAAKD,IAAL,CAAUkB,QAAV,IAAsB,KAAKlB,IAAL,CAAUoB,QAApC,EAA6C;QAC3C,KAAKf,MAAL,CAAYgB,QAAZ,CAAqB,YAArB,EAAmC,KAAKrB,IAAxC,EAA8CsB,IAA9C,CACI,MAAM;UACJ,KAAKV,OAAL,CAAaC,IAAb,CAAkB;YAAEU,IAAI,EAAE;UAAR,CAAlB;QACD,CAHL,EAIIC,MAAK,IAAK;UACR,KAAKvB,OAAL,GAAe,KAAf;UACA,KAAKC,OAAL,GAAiBsB,MAAM,CAACC,QAAP,IAAmBD,MAAM,CAACC,QAAP,CAAgB1B,IAApC,IAA6CyB,MAAM,CAACtB,OAApD,IAA+DsB,MAAM,CAACE,QAAP,EAA/E;QACF,CAPJ;MASF;IAID,CA/BM;;IAiCP,GAAG9B,UAAU,CAAC;MACZW,IAAI,EAAE;IADM,CAAD;EAjCN;AA/BI,CAAf","names":["User","store","mapActions","mapState","name","data","user","loading","message","computed","loggedIn","$store","state","auth","status","singup","isRegistration","mounted","$router","push","methods","registration","commit","handleLogin","username","undefined","password","dispatch","then","path","errors","response","toString"],"sourceRoot":"","sources":["C:\\Users\\hp\\IdeaProjects\\chat-vue-spring\\src\\frontend-chat\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\r\n  <div >\r\n    <div class=\"flex items-center justify-center min-h-full \">\r\n      <div class=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\r\n        <div class=\"flex justify-center\">\r\n\r\n<!--          class=\"w-20 h-20 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24-->\r\n\r\n\r\n          <i class=\"fa fa-telegram w-30 h-20 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\"  style=\"font-size:68px;\"></i>\r\n\r\n\r\n\r\n        </div>\r\n        <h3 class=\"text-2xl font-bold text-center\">Login to your account</h3>\r\n\r\n      <!-- LOGIN FORM-->\r\n        <form name=\"form\" @submit.prevent=\"handleLogin\" >\r\n          <div class=\"mt-4\">\r\n\r\n\r\n\r\n            <div>\r\n              <label class=\"block\" for=\"username\">Username</label>\r\n              <input\r\n                      id=\"username\"\r\n                      type=\"text\"\r\n                      v-model=\"user.username\"\r\n                       placeholder=\"Username\"\r\n                       class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n            <div class=\"mt-4\">\r\n              <label class=\"block\">Password</label>\r\n                <input\r\n                    v-model=\"user.password\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n            <div v-if=\"this.message.length > 0\">\r\n              <span class=\"text-xs tracking-wide text-red-600\"> {{ this.message }} </span>\r\n            </div>\r\n\r\n\r\n            <div class=\"flex items-baseline justify-between\">\r\n              <button :disabled=\"loading\" class=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\">Login</button>\r\n              <a href=\"#\" class=\"text-sm text-blue-600 hover:underline\">Forgot password?</a>\r\n\r\n            </div>\r\n            <div class=\"ml-5\">\r\n                <router-link class=\"text-sm text-blue-600 hover:underline\" to=\"/auth/singup\">Sing up</router-link>\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport User from '../model/user'\r\nimport store from '../store/index'\r\nimport {mapActions, mapState} from 'vuex'\r\nexport default {\r\n  name: \"LoginForm\",\r\n\r\n  data(){\r\n    return {\r\n      user: new User('', ''),\r\n      loading: false,\r\n      message: ''\r\n    };\r\n  },\r\n\r\n\r\n  computed: {\r\n    loggedIn() {\r\n      return this.$store.state.auth.status.loggedIn;\r\n    },\r\n\r\n    ...mapState({\r\n      singup: state => state.isRegistration\r\n    })\r\n\r\n\r\n  },\r\n    mounted(){\r\n      if (this.loggedIn)\r\n        this.$router.push('/hello')\r\n\r\n  },\r\n\r\n\r\n\r\n  methods: {\r\n\r\n    registration(){\r\n      store.commit('setRegistration',  true)\r\n\r\n    },\r\n\r\n    handleLogin() {\r\n      this.loading = true;\r\n\r\n      if (this.user.username === undefined || this.user.password === undefined) {\r\n        this.message = \"Incorrect Username or Password!\"\r\n        this.loading = false;\r\n      }\r\n\r\n\r\n\r\n      if (this.user.username && this.user.password){\r\n        this.$store.dispatch('auth/login', this.user).then(\r\n            () => {\r\n              this.$router.push({ path: '/auth/login' })\r\n            },\r\n            errors => {\r\n              this.loading = false;\r\n              this.message  = (errors.response && errors.response.data) || errors.message || errors.toString();\r\n            }\r\n        )\r\n      }\r\n\r\n\r\n\r\n    },\r\n\r\n    ...mapActions({\r\n      auth: \"auth/login\"\r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}