{"ast":null,"code":"import AuthService from \"@/services/auth.service\";\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user ? {\n  status: {\n    loggedIn: true\n  },\n  user\n} : {\n  status: {\n    loggedIn: false\n  },\n  user: null\n};\nexport const authModule = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({\n      commit\n    }, user) {\n      return AuthService.login(user).then(user => {\n        console.log(\"User: \" + user.data);\n        commit('loginSuccess', user);\n        commit('setAuthenticate', true, {\n          root: true\n        });\n        commit('setToken', true, {\n          root: true\n        });\n        return Promise.resolve(user);\n      }, error => {\n        commit('loginFailure');\n        console.log(error);\n        return Promise.reject(error);\n      });\n    },\n\n    logout({\n      commit\n    }) {\n      AuthService.logout();\n      commit('setAuthenticate', false, {\n        root: true\n      });\n      commit('logout');\n    },\n\n    register({\n      commit\n    }, user) {\n      return AuthService.registration(user).then(response => {\n        commit('registerSuccess');\n        return Promise.resolve(response.data);\n      }, error => {\n        commit('registerFailure');\n        return Promise.reject(error);\n      });\n    }\n\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n\n  }\n};","map":{"version":3,"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","authModule","namespaced","state","actions","login","commit","then","console","log","data","root","Promise","resolve","error","reject","logout","register","registration","response","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"sources":["C:/Users/hp/IdeaProjects/chat-vue-spring/src/frontend-chat/src/store/authModule.js"],"sourcesContent":["\r\nimport AuthService from \"@/services/auth.service\";\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user\r\n    ? { status: { loggedIn: true }, user }\r\n    : { status: { loggedIn: false }, user: null };\r\n\r\n\r\n\r\nexport const authModule = {\r\n    namespaced: true,\r\n    state:  initialState,\r\n\r\n\r\n    actions: {\r\n        login({commit}, user){\r\n\r\n            return AuthService.login(user).then(\r\n                user => {\r\n                    console.log(\"User: \"+user.data)\r\n                    commit('loginSuccess', user);\r\n                    commit('setAuthenticate', true,  {root: true});\r\n                    commit('setToken', true,  {root: true});\r\n                    return Promise.resolve(user);\r\n                },\r\n                error => {\r\n                    commit('loginFailure');\r\n                    console.log(error)\r\n                    return Promise.reject(error);\r\n                }\r\n            );\r\n        },\r\n\r\n        logout({commit}){\r\n            AuthService.logout();\r\n            commit('setAuthenticate', false, {root: true});\r\n            commit('logout');\r\n        },\r\n\r\n        register({commit}, user) {\r\n            return AuthService.registration(user).then(\r\n                response => {\r\n                    commit('registerSuccess');\r\n                    return Promise.resolve(response.data);\r\n                },\r\n                error => {\r\n                    commit('registerFailure');\r\n                    return Promise.reject(error);\r\n                }\r\n            );\r\n        }\r\n    },\r\n\r\n    mutations: {\r\n        loginSuccess(state, user) {\r\n\r\n            state.status.loggedIn = true;\r\n            state.user = user;\r\n        },\r\n\r\n        loginFailure(state) {\r\n            state.status.loggedIn = false;\r\n            state.user = null;\r\n        },\r\n\r\n        logout(state) {\r\n            state.status.loggedIn = false;\r\n            state.user = null;\r\n        },\r\n\r\n        registerSuccess(state) {\r\n            state.status.loggedIn = false;\r\n        },\r\n\r\n        registerFailure(state) {\r\n            state.status.loggedIn = false;\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}"],"mappings":"AACA,OAAOA,WAAP,MAAwB,yBAAxB;AACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,MAAMC,YAAY,GAAGL,IAAI,GACnB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP;AAA9B,CADmB,GAEnB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA+BP,IAAI,EAAE;AAArC,CAFN;AAMA,OAAO,MAAMQ,UAAU,GAAG;EACtBC,UAAU,EAAE,IADU;EAEtBC,KAAK,EAAGL,YAFc;EAKtBM,OAAO,EAAE;IACLC,KAAK,CAAC;MAACC;IAAD,CAAD,EAAWb,IAAX,EAAgB;MAEjB,OAAOD,WAAW,CAACa,KAAZ,CAAkBZ,IAAlB,EAAwBc,IAAxB,CACHd,IAAI,IAAI;QACJe,OAAO,CAACC,GAAR,CAAY,WAAShB,IAAI,CAACiB,IAA1B;QACAJ,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;QACAa,MAAM,CAAC,iBAAD,EAAoB,IAApB,EAA2B;UAACK,IAAI,EAAE;QAAP,CAA3B,CAAN;QACAL,MAAM,CAAC,UAAD,EAAa,IAAb,EAAoB;UAACK,IAAI,EAAE;QAAP,CAApB,CAAN;QACA,OAAOC,OAAO,CAACC,OAAR,CAAgBpB,IAAhB,CAAP;MACH,CAPE,EAQHqB,KAAK,IAAI;QACLR,MAAM,CAAC,cAAD,CAAN;QACAE,OAAO,CAACC,GAAR,CAAYK,KAAZ;QACA,OAAOF,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACH,CAZE,CAAP;IAcH,CAjBI;;IAmBLE,MAAM,CAAC;MAACV;IAAD,CAAD,EAAU;MACZd,WAAW,CAACwB,MAAZ;MACAV,MAAM,CAAC,iBAAD,EAAoB,KAApB,EAA2B;QAACK,IAAI,EAAE;MAAP,CAA3B,CAAN;MACAL,MAAM,CAAC,QAAD,CAAN;IACH,CAvBI;;IAyBLW,QAAQ,CAAC;MAACX;IAAD,CAAD,EAAWb,IAAX,EAAiB;MACrB,OAAOD,WAAW,CAAC0B,YAAZ,CAAyBzB,IAAzB,EAA+Bc,IAA/B,CACHY,QAAQ,IAAI;QACRb,MAAM,CAAC,iBAAD,CAAN;QACA,OAAOM,OAAO,CAACC,OAAR,CAAgBM,QAAQ,CAACT,IAAzB,CAAP;MACH,CAJE,EAKHI,KAAK,IAAI;QACLR,MAAM,CAAC,iBAAD,CAAN;QACA,OAAOM,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACH,CARE,CAAP;IAUH;;EApCI,CALa;EA4CtBM,SAAS,EAAE;IACPC,YAAY,CAAClB,KAAD,EAAQV,IAAR,EAAc;MAEtBU,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,GAAaA,IAAb;IACH,CALM;;IAOP6B,YAAY,CAACnB,KAAD,EAAQ;MAChBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACH,CAVM;;IAYPuB,MAAM,CAACb,KAAD,EAAQ;MACVA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACH,CAfM;;IAiBP8B,eAAe,CAACpB,KAAD,EAAQ;MACnBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACH,CAnBM;;IAqBPwB,eAAe,CAACrB,KAAD,EAAQ;MACnBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACH;;EAvBM;AA5CW,CAAnB"},"metadata":{},"sourceType":"module"}