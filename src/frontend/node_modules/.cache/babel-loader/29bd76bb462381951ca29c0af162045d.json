{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8022/auth';\n\nclass AuthenticationService {\n  login(user) {\n    return axios.post(API_URL + \"/login\", {\n      username: user.username,\n      password: user.password\n    }).then(response => {\n      if (response.data.token) {\n        console.log(\"test token\");\n        localStorage.setItem('user', JSON.stringify(response.data));\n        localStorage.setItem('Authorization', `Bearer ${JSON.stringify(response.data.token)}`);\n      }\n\n      return response.data;\n    });\n  }\n\n  getToken() {\n    const response = axios.get(API_URL + \"/token\");\n    return response.data;\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n    localStorage.removeItem('Authorization');\n  }\n\n  registration(user) {\n    return axios.post(API_URL + \"/registration\", {\n      username: user.username,\n      yearOfBirth: user.yearOfBirth,\n      password: user.password,\n      email: user.email\n    });\n  }\n\n}\n\nexport default new AuthenticationService();","map":{"version":3,"names":["axios","API_URL","AuthenticationService","login","user","post","username","password","then","response","data","token","console","log","localStorage","setItem","JSON","stringify","getToken","get","logout","removeItem","registration","yearOfBirth","email"],"sources":["C:/Users/hp/IdeaProjects/online-chat-spring-vue/src/frontend/src/services/auth.service.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8022/auth';\r\n\r\n\r\nclass AuthenticationService {\r\n    login(user){\r\n        return axios.post(API_URL + \"/login\", {\r\n            username: user.username,\r\n            password: user.password\r\n        })\r\n            .then(response => {\r\n\r\n                if (response.data.token){\r\n                    console.log(\"test token\")\r\n                    localStorage.setItem('user', JSON.stringify(response.data));\r\n                    localStorage.setItem('Authorization',`Bearer ${JSON.stringify(response.data.token)}`);\r\n                }\r\n                return response.data;\r\n            });\r\n    }\r\n\r\n   getToken(){\r\n\r\n        const response = axios.get(API_URL+\"/token\");\r\n\r\n        return response.data;\r\n    }\r\n\r\n    logout(){\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('Authorization');\r\n    }\r\n\r\n    registration(user){\r\n        return axios.post(API_URL + \"/registration\", {\r\n            username: user.username,\r\n            yearOfBirth: user.yearOfBirth,\r\n            password: user.password,\r\n            email: user.email\r\n        })\r\n    }\r\n}\r\n\r\nexport default new AuthenticationService();"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,4BAAhB;;AAGA,MAAMC,qBAAN,CAA4B;EACxBC,KAAK,CAACC,IAAD,EAAM;IACP,OAAOJ,KAAK,CAACK,IAAN,CAAWJ,OAAO,GAAG,QAArB,EAA+B;MAClCK,QAAQ,EAAEF,IAAI,CAACE,QADmB;MAElCC,QAAQ,EAAEH,IAAI,CAACG;IAFmB,CAA/B,EAIFC,IAJE,CAIGC,QAAQ,IAAI;MAEd,IAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,EAAwB;QACpBC,OAAO,CAACC,GAAR,CAAY,YAAZ;QACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACC,IAAxB,CAA7B;QACAI,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsC,UAASC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACC,IAAT,CAAcC,KAA7B,CAAoC,EAAnF;MACH;;MACD,OAAOF,QAAQ,CAACC,IAAhB;IACH,CAZE,CAAP;EAaH;;EAEFQ,QAAQ,GAAE;IAEL,MAAMT,QAAQ,GAAGT,KAAK,CAACmB,GAAN,CAAUlB,OAAO,GAAC,QAAlB,CAAjB;IAEA,OAAOQ,QAAQ,CAACC,IAAhB;EACH;;EAEDU,MAAM,GAAE;IACJN,YAAY,CAACO,UAAb,CAAwB,MAAxB;IACAP,YAAY,CAACO,UAAb,CAAwB,eAAxB;EACH;;EAEDC,YAAY,CAAClB,IAAD,EAAM;IACd,OAAOJ,KAAK,CAACK,IAAN,CAAWJ,OAAO,GAAG,eAArB,EAAsC;MACzCK,QAAQ,EAAEF,IAAI,CAACE,QAD0B;MAEzCiB,WAAW,EAAEnB,IAAI,CAACmB,WAFuB;MAGzChB,QAAQ,EAAEH,IAAI,CAACG,QAH0B;MAIzCiB,KAAK,EAAEpB,IAAI,CAACoB;IAJ6B,CAAtC,CAAP;EAMH;;AApCuB;;AAuC5B,eAAe,IAAItB,qBAAJ,EAAf"},"metadata":{},"sourceType":"module"}