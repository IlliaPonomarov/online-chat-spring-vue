{"ast":null,"code":"import User from '../model/user';\nimport { mapActions, mapState } from 'vuex';\nexport default {\n  name: \"sing-up\",\n\n  data() {\n    return {\n      user: new User('', '', '', ''),\n      loading: false,\n      repeatPassword: '',\n      message: '',\n      submitted: false,\n      successful: false\n    };\n  },\n\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n\n    ...mapState({\n      singup: state => state.isRegistration\n    })\n  },\n\n  mounted() {\n    if (this.successful) this.$router.push({\n      path: '/auth/login'\n    });\n  },\n\n  methods: {\n    handleLogin() {\n      this.loading = true;\n      this.$store.dispatch(\"auth/register\", this.user).then(data => {\n        console.log(this.user.toString());\n        this.message = data.message;\n        this.successful = true;\n        this.$router.push({\n          path: '/auth/login'\n        });\n      }, errors => {\n        this.message = errors.response && errors.response.data || errors.message || errors.toString();\n        this.successful = false;\n      });\n    },\n\n    ...mapActions({\n      auth: \"auth/login\",\n      auth2: \"auth/register\"\n    })\n  }\n};","map":{"version":3,"mappings":"AAsGA,OAAOA,IAAP,MAAiB,eAAjB;AACA,SAAQC,UAAR,EAAoBC,QAApB,QAAmC,MAAnC;AACA,eAAe;EACbC,IAAI,EAAE,SADO;;EAGbC,IAAI,GAAE;IACJ,OAAO;MACLC,IAAI,EAAE,IAAIL,IAAJ,CAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CADD;MAELM,OAAO,EAAE,KAFJ;MAGLC,cAAc,EAAE,EAHX;MAILC,OAAO,EAAE,EAJJ;MAKLC,SAAS,EAAE,KALN;MAMLC,UAAU,EAAE;IANP,CAAP;EAQD,CAZY;;EAebC,QAAQ,EAAE;IACRC,QAAQ,GAAG;MACT,OAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,MAAvB,CAA8BJ,QAArC;IACD,CAHO;;IAKR,GAAGV,QAAQ,CAAC;MACVe,MAAM,EAAEH,KAAI,IAAKA,KAAK,CAACI;IADb,CAAD;EALH,CAfG;;EA0BbC,OAAO,GAAE;IACP,IAAI,KAAKT,UAAT,EACE,KAAKU,OAAL,CAAaC,IAAb,CAAkB;MAACC,IAAI,EAAE;IAAP,CAAlB;EAEH,CA9BY;;EAiCbC,OAAO,EAAE;IAEPC,WAAW,GAAG;MACZ,KAAKlB,OAAL,GAAe,IAAf;MAEA,KAAKO,MAAL,CAAYY,QAAZ,CAAqB,eAArB,EAAsC,KAAKpB,IAA3C,EAAiDqB,IAAjD,CACItB,IAAG,IAAK;QACNuB,OAAO,CAACC,GAAR,CAAY,KAAKvB,IAAL,CAAUwB,QAAV,EAAZ;QACA,KAAKrB,OAAL,GAAeJ,IAAI,CAACI,OAApB;QACA,KAAKE,UAAL,GAAkB,IAAlB;QACA,KAAKU,OAAL,CAAaC,IAAb,CAAkB;UAACC,IAAI,EAAE;QAAP,CAAlB;MACD,CANL,EAQIQ,MAAK,IAAK;QACR,KAAKtB,OAAL,GAAgBsB,MAAM,CAACC,QAAP,IAAmBD,MAAM,CAACC,QAAP,CAAgB3B,IAApC,IAA6C0B,MAAM,CAACtB,OAApD,IAA+DsB,MAAM,CAACD,QAAP,EAA9E;QACA,KAAKnB,UAAL,GAAkB,KAAlB;MACF,CAXJ;IAcD,CAnBM;;IAqBP,GAAGT,UAAU,CAAC;MACZc,IAAI,EAAE,YADM;MAEZiB,KAAK,EAAE;IAFK,CAAD;EArBN;AAjCI,CAAf","names":["User","mapActions","mapState","name","data","user","loading","repeatPassword","message","submitted","successful","computed","loggedIn","$store","state","auth","status","singup","isRegistration","mounted","$router","push","path","methods","handleLogin","dispatch","then","console","log","toString","errors","response","auth2"],"sourceRoot":"","sources":["C:\\Users\\hp\\IdeaProjects\\chat-vue-spring\\src\\frontend-chat\\src\\pages\\Registration.vue"],"sourcesContent":["<template>\r\n  <div >\r\n    <div class=\"flex items-center justify-center min-h-full \">\r\n      <div class=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\r\n        <div class=\"flex justify-center\">\r\n\r\n          <!--          class=\"w-20 h-20 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24-->\r\n\r\n\r\n          <i class=\"fa fa-telegram w-30 h-20 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\"  style=\"font-size:68px;\"></i>\r\n\r\n\r\n\r\n        </div>\r\n        <h3 class=\"text-2xl font-bold text-center\">Sing In</h3>\r\n\r\n        <!-- LOGIN FORM-->\r\n        <form name=\"form\" @submit.prevent=\"handleLogin\" >\r\n          <div class=\"mt-4\">\r\n\r\n\r\n\r\n            <div>\r\n              <label class=\"block\" for=\"username\">Username</label>\r\n              <input\r\n                  id=\"username\"\r\n                  type=\"text\"\r\n                  v-model=\"this.user.username\"\r\n                  placeholder=\"Username\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n\r\n\r\n            <!-- written v-model for email-->\r\n            <div class=\"mt-4\">\r\n              <label for=\"email\" class=\"block\">Email</label>\r\n              <input\r\n                  v-model=\"this.user.email\"\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n            <!-- written v-model for YEAR OF BIRTH-->\r\n\r\n            <div class=\"mt-4\">\r\n              <label class=\"block\">Year of Birth</label>\r\n              <input\r\n                  v-model=\"this.user.yearOfBirth\"\r\n                  type=\"text\"\r\n                  placeholder=\"Year of Birth\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n            <div class=\"mt-4\">\r\n              <label class=\"block\">Password</label>\r\n              <input\r\n                  v-model=\"this.user.password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n            <div class=\"mt-4\">\r\n              <label class=\"block\">Repeat Password</label>\r\n              <input\r\n                  v-model=\"this.repeatPassword\"\r\n                  type=\"password\"\r\n                  placeholder=\"Repeat Password\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n            <div v-if=\"this.user.password !== this.repeatPassword\">\r\n              <span class=\"text-xs tracking-wide text-red-600\"> Passwords should be equals </span>\r\n\r\n            </div>\r\n\r\n            <div v-if=\"this.message.length > 0\">\r\n              <span class=\"text-xs tracking-wide text-red-600\"> {{ this.message }} </span>\r\n            </div>\r\n\r\n\r\n            <div class=\"flex items-baseline justify-between\">\r\n              <button :disabled=\"loading\" class=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\">Sing Up</button>\r\n\r\n            </div>\r\n            <div class=\"ml-5\">\r\n              <router-link class=\"text-sm text-blue-600 hover:underline\" to=\"/auth/login\">Sing In</router-link>\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport User from '../model/user'\r\nimport {mapActions, mapState} from 'vuex'\r\nexport default {\r\n  name: \"sing-up\",\r\n\r\n  data(){\r\n    return {\r\n      user: new User('', '', '', ''),\r\n      loading: false,\r\n      repeatPassword: '',\r\n      message: '',\r\n      submitted: false,\r\n      successful: false,\r\n    };\r\n  },\r\n\r\n\r\n  computed: {\r\n    loggedIn() {\r\n      return this.$store.state.auth.status.loggedIn;\r\n    },\r\n\r\n    ...mapState({\r\n      singup: state => state.isRegistration\r\n    })\r\n\r\n\r\n  },\r\n  mounted(){\r\n    if (this.successful)\r\n      this.$router.push({path: '/auth/login'})\r\n\r\n  },\r\n\r\n\r\n  methods: {\r\n\r\n    handleLogin() {\r\n      this.loading = true;\r\n\r\n      this.$store.dispatch(\"auth/register\", this.user).then(\r\n          data => {\r\n            console.log(this.user.toString())\r\n            this.message = data.message;\r\n            this.successful = true;\r\n            this.$router.push({path: '/auth/login'})\r\n          },\r\n\r\n          errors => {\r\n            this.message = (errors.response && errors.response.data) || errors.message || errors.toString();\r\n            this.successful = false;\r\n          }\r\n      );\r\n\r\n    },\r\n\r\n    ...mapActions({\r\n      auth: \"auth/login\",\r\n      auth2: \"auth/register\"\r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}