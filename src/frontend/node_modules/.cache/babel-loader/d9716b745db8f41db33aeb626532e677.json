{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-658eb408\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container mx-auto\"\n};\nconst _hoisted_2 = {\n  class: \"min-w-full border rounded lg:grid lg:grid-cols-3\"\n};\nconst _hoisted_3 = {\n  class: \"border-r border-gray-300 lg:col-span-1\",\n  style: {\n    \"background-color\": \"#0088cc\"\n  }\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"mx-3 my-3\\\" data-v-658eb408><div class=\\\"relative text-gray-600\\\" data-v-658eb408><span class=\\\"absolute inset-y-0 left-0 flex items-center pl-2\\\" data-v-658eb408><svg fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" viewBox=\\\"0 0 24 24\\\" class=\\\"w-6 h-6 text-gray-300\\\" data-v-658eb408><path d=\\\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\\\" data-v-658eb408></path></svg></span><input type=\\\"search\\\" class=\\\"block w-full py-2 pl-10 bg-gray-100 rounded outline-none\\\" name=\\\"search\\\" placeholder=\\\"Search\\\" required data-v-658eb408></div></div>\", 1);\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"my-2 mb-2 ml-2 text-lg text-gray-600\"\n}, \"Chats\", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out border-b border-gray-300 cursor-pointer hover:bg-gray-100 focus:outline-none\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"object-cover w-10 h-10 rounded-full\",\n  src: \"https://cdn.pixabay.com/photo/2018/09/12/12/14/man-3672010__340.jpg\",\n  alt: \"username\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"w-full pb-2\"\n};\nconst _hoisted_9 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_10 = {\n  class: \"block ml-2 font-semibold text-gray-600\"\n};\nconst _hoisted_11 = {\n  class: \"block ml-2 text-sm text-gray-600\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"block ml-2 text-sm text-gray-600\"\n}, \"bye\", -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = /*#__PURE__*/_createStaticVNode(\"<a class=\\\"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out bg-gray-100 border-b border-gray-300 cursor-pointer focus:outline-none\\\" data-v-658eb408><img class=\\\"object-cover w-10 h-10 rounded-full\\\" src=\\\"https://cdn.pixabay.com/photo/2016/06/15/15/25/loudspeaker-1459128__340.png\\\" alt=\\\"username\\\" data-v-658eb408><div class=\\\"w-full pb-2\\\" data-v-658eb408><div class=\\\"flex justify-between\\\" data-v-658eb408><span class=\\\"block ml-2 font-semibold text-gray-600\\\" data-v-658eb408>Same</span><span class=\\\"block ml-2 text-sm text-gray-600\\\" data-v-658eb408>50 minutes</span></div><span class=\\\"block ml-2 text-sm text-gray-600\\\" data-v-658eb408>Good night</span></div></a><a class=\\\"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out border-b border-gray-300 cursor-pointer hover:bg-gray-100 focus:outline-none\\\" data-v-658eb408><img class=\\\"object-cover w-10 h-10 rounded-full\\\" src=\\\"https://cdn.pixabay.com/photo/2018/01/15/07/51/woman-3083383__340.jpg\\\" alt=\\\"username\\\" data-v-658eb408><div class=\\\"w-full pb-2\\\" data-v-658eb408><div class=\\\"flex justify-between\\\" data-v-658eb408><span class=\\\"block ml-2 font-semibold text-gray-600\\\" data-v-658eb408>Emma</span><span class=\\\"block ml-2 text-sm text-gray-600\\\" data-v-658eb408>6 hour</span></div><span class=\\\"block ml-2 text-sm text-gray-600\\\" data-v-658eb408>Good Morning</span></div></a>\", 2);\n\nconst _hoisted_15 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"hidden lg:col-span-2 lg:block bg-white\\\" data-v-658eb408><div class=\\\"w-full\\\" data-v-658eb408><div class=\\\"relative flex items-center p-3 border-b border-gray-300\\\" data-v-658eb408><img class=\\\"object-cover w-10 h-10 rounded-full\\\" src=\\\"https://cdn.pixabay.com/photo/2018/01/15/07/51/woman-3083383__340.jpg\\\" alt=\\\"username\\\" data-v-658eb408><span class=\\\"block ml-2 font-bold text-gray-600\\\" data-v-658eb408>Emma</span><span class=\\\"absolute w-3 h-3 bg-green-600 rounded-full left-10 top-3\\\" data-v-658eb408></span></div><div class=\\\"relative w-full p-6 overflow-y-auto h-[40rem]\\\" data-v-658eb408><ul class=\\\"space-y-2\\\" data-v-658eb408><li class=\\\"flex justify-start\\\" data-v-658eb408><div class=\\\"relative max-w-xl px-4 py-2 text-gray-700 rounded shadow\\\" data-v-658eb408><span class=\\\"block\\\" data-v-658eb408>Hi</span></div></li><li class=\\\"flex justify-end\\\" data-v-658eb408><div class=\\\"relative max-w-xl px-4 py-2 text-gray-700 bg-gray-100 rounded shadow\\\" data-v-658eb408><span class=\\\"block\\\" data-v-658eb408>Hiiii</span></div></li><li class=\\\"flex justify-end\\\" data-v-658eb408><div class=\\\"relative max-w-xl px-4 py-2 text-gray-700 bg-gray-100 rounded shadow\\\" data-v-658eb408><span class=\\\"block\\\" data-v-658eb408>how are you?</span></div></li><li class=\\\"flex justify-start\\\" data-v-658eb408><div class=\\\"relative max-w-xl px-4 py-2 text-gray-700 rounded shadow\\\" data-v-658eb408><span class=\\\"block\\\" data-v-658eb408>Lorem ipsum dolor sit, amet consectetur adipisicing elit. </span></div></li></ul></div><div class=\\\"flex items-center justify-between w-full p-3 border-t border-gray-300\\\" data-v-658eb408><button data-v-658eb408><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"w-6 h-6 text-gray-500\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\" data-v-658eb408><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\\\" data-v-658eb408></path></svg></button><button data-v-658eb408><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"w-5 h-5 text-gray-500\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\" data-v-658eb408><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\\\" data-v-658eb408></path></svg></button><input type=\\\"text\\\" placeholder=\\\"Message\\\" class=\\\"block w-full py-2 pl-4 mx-3 bg-gray-100 rounded-full outline-none focus:text-gray-700\\\" name=\\\"message\\\" required data-v-658eb408><button data-v-658eb408><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"w-5 h-5 text-gray-500\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\" data-v-658eb408><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\\\" data-v-658eb408></path></svg></button><button type=\\\"submit\\\" data-v-658eb408><svg class=\\\"w-5 h-5 text-gray-500 origin-center transform rotate-90\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"currentColor\\\" data-v-658eb408><path d=\\\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\\\" data-v-658eb408></path></svg></button></div></div></div>\", 1);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.chats, chat => {\n    return _openBlock(), _createElementBlock(\"ul\", {\n      class: \"overflow-auto h-[32rem]\",\n      key: chat.id\n    }, [_hoisted_5, _createElementVNode(\"li\", null, [_createElementVNode(\"a\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString(chat.title), 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", _hoisted_11, _toDisplayString(chat.messageTime), 1\n    /* TEXT */\n    )]), _hoisted_12])]), _hoisted_13])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _hoisted_15])])]);\n}","map":{"version":3,"mappings":";;;;;EAEOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;EAAyCC,KAAiC,EAAjC;IAAA;EAAA;;;;;gEAehDC,oBAA2D,IAA3D,EAA2D;EAAvDF,KAAK,EAAC;AAAiD,CAA3D,EAAiD,OAAjD,EAAsD;AAAA;AAAtD;;;EAGMA,KAAK,EAAC;;;gEACRE,oBACgG,KADhG,EACgG;EAD3FF,KAAK,EAAC,qCACqF;EAA3FG,GAAG,EAAC,qEAAuF;EAAjBC,GAAG,EAAC;AAAa,CADhG;;AAAA;;;EAEKJ,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACHA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;iEAEdE,oBAAyD,MAAzD,EAAyD;EAAnDF,KAAK,EAAC;AAA6C,CAAzD,EAA+C,KAA/C,EAAkD;AAAA;AAAlD;;;;;;;uBA7BdK,oBAoIM,KApIN,EAoIM,IApIN,EAoIM,CAnINH,oBAkIQ,KAlIR,cAkIQ,CAjINA,oBAgIQ,KAhIR,cAgIQ,CA/HNA,oBAuDM,KAvDN,cAuDM,CAtDJI,UAsDI,qBAzCJD,oBAwCKE,SAxCL,EAwCK,IAxCL,EAwCKC,iBAxCmDC,KAwCnD,EAxCsCC,IAAkB,IAAd;yBAA/CL,oBAwCK,IAxCL,EAwCK;MAxCDL,KAAK,EAAC,yBAwCL;MAxC2DW,GAAG,EAAED,IAAI,CAACE;IAwCrE,CAxCL,GACEC,YACAX,oBAqCK,IArCL,EAqCK,IArCL,EAqCK,CApCHA,oBAWI,GAXJ,cAWI,CATFY,UASE,EAPFZ,oBAMM,KANN,cAMM,CALJA,oBAGM,KAHN,cAGM,CAFJA,oBAA6E,MAA7E,eAA6Ea,iBAApBL,IAAI,CAACM,KAAe,CAA7E,EAAmE;IAAA;IAAnE,CAEI,EADJd,oBAA6E,MAA7E,eAA6Ea,iBAA1BL,IAAI,CAACO,WAAqB,CAA7E,EAAmE;IAAA;IAAnE,CACI,CAHN,CAKI,EADJC,WACI,CANN,CAOE,CAXJ,CAoCG,EAxBHC,WAwBG,CArCL,EAFF;GAwCK,CAxCL;;EAAA,CAyCI,EAvDN,CA+HM,EAvENC,WAuEM,CAhIR,CAiIM,CAlIR,CAmIM,CApIN","names":["class","style","_createElementVNode","src","alt","_createElementBlock","_hoisted_4","_Fragment","_renderList","chats","chat","key","id","_hoisted_5","_hoisted_7","_toDisplayString","title","messageTime","_hoisted_12","_hoisted_13","_hoisted_15"],"sourceRoot":"","sources":["C:\\Users\\hp\\IdeaProjects\\online-chat-spring-vue\\src\\frontend\\src\\pages\\Chat.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <div class=\"container mx-auto\">\r\n    <div class=\"min-w-full border rounded lg:grid lg:grid-cols-3\">\r\n      <div class=\"border-r border-gray-300 lg:col-span-1\" style=\"background-color: #0088cc\">\r\n        <div class=\"mx-3 my-3\">\r\n          <div class=\"relative text-gray-600\">\r\n              <span class=\"absolute inset-y-0 left-0 flex items-center pl-2\">\r\n                <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                     viewBox=\"0 0 24 24\" class=\"w-6 h-6 text-gray-300\">\r\n                  <path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\r\n                </svg>\r\n              </span>\r\n            <input type=\"search\" class=\"block w-full py-2 pl-10 bg-gray-100 rounded outline-none\" name=\"search\"\r\n                   placeholder=\"Search\" required />\r\n          </div>\r\n        </div>\r\n\r\n        <ul class=\"overflow-auto h-[32rem]\" v-for=\"chat in this.chats\" :key=\"chat.id\" >\r\n          <h2 class=\"my-2 mb-2 ml-2 text-lg text-gray-600\">Chats</h2>\r\n          <li>\r\n            <a\r\n                class=\"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out border-b border-gray-300 cursor-pointer hover:bg-gray-100 focus:outline-none\">\r\n              <img class=\"object-cover w-10 h-10 rounded-full\"\r\n                   src=\"https://cdn.pixabay.com/photo/2018/09/12/12/14/man-3672010__340.jpg\" alt=\"username\" />\r\n              <div class=\"w-full pb-2\">\r\n                <div class=\"flex justify-between\">\r\n                  <span class=\"block ml-2 font-semibold text-gray-600\"> {{ chat.title }}</span>\r\n                  <span class=\"block ml-2 text-sm text-gray-600\">{{  chat.messageTime }}</span>\r\n                </div>\r\n                <span class=\"block ml-2 text-sm text-gray-600\">bye</span>\r\n              </div>\r\n            </a>\r\n            <a\r\n                class=\"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out bg-gray-100 border-b border-gray-300 cursor-pointer focus:outline-none\">\r\n              <img class=\"object-cover w-10 h-10 rounded-full\"\r\n                   src=\"https://cdn.pixabay.com/photo/2016/06/15/15/25/loudspeaker-1459128__340.png\" alt=\"username\" />\r\n              <div class=\"w-full pb-2\">\r\n                <div class=\"flex justify-between\">\r\n                  <span class=\"block ml-2 font-semibold text-gray-600\">Same</span>\r\n                  <span class=\"block ml-2 text-sm text-gray-600\">50 minutes</span>\r\n                </div>\r\n                <span class=\"block ml-2 text-sm text-gray-600\">Good night</span>\r\n              </div>\r\n            </a>\r\n            <a\r\n                class=\"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out border-b border-gray-300 cursor-pointer hover:bg-gray-100 focus:outline-none\">\r\n              <img class=\"object-cover w-10 h-10 rounded-full\"\r\n                   src=\"https://cdn.pixabay.com/photo/2018/01/15/07/51/woman-3083383__340.jpg\" alt=\"username\" />\r\n              <div class=\"w-full pb-2\">\r\n                <div class=\"flex justify-between\">\r\n                  <span class=\"block ml-2 font-semibold text-gray-600\">Emma</span>\r\n                  <span class=\"block ml-2 text-sm text-gray-600\">6 hour</span>\r\n                </div>\r\n                <span class=\"block ml-2 text-sm text-gray-600\">Good Morning</span>\r\n              </div>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"hidden lg:col-span-2 lg:block bg-white\">\r\n        <div class=\"w-full\">\r\n          <div class=\"relative flex items-center p-3 border-b border-gray-300\">\r\n            <img class=\"object-cover w-10 h-10 rounded-full\"\r\n                 src=\"https://cdn.pixabay.com/photo/2018/01/15/07/51/woman-3083383__340.jpg\" alt=\"username\" />\r\n            <span class=\"block ml-2 font-bold text-gray-600\">Emma</span>\r\n            <span class=\"absolute w-3 h-3 bg-green-600 rounded-full left-10 top-3\">\r\n              </span>\r\n          </div>\r\n          <div class=\"relative w-full p-6 overflow-y-auto h-[40rem]\">\r\n            <ul class=\"space-y-2\">\r\n              <li class=\"flex justify-start\">\r\n                <div class=\"relative max-w-xl px-4 py-2 text-gray-700 rounded shadow\">\r\n                  <span class=\"block\">Hi</span>\r\n                </div>\r\n              </li>\r\n              <li class=\"flex justify-end\">\r\n                <div class=\"relative max-w-xl px-4 py-2 text-gray-700 bg-gray-100 rounded shadow\">\r\n                  <span class=\"block\">Hiiii</span>\r\n                </div>\r\n              </li>\r\n              <li class=\"flex justify-end\">\r\n                <div class=\"relative max-w-xl px-4 py-2 text-gray-700 bg-gray-100 rounded shadow\">\r\n                  <span class=\"block\">how are you?</span>\r\n                </div>\r\n              </li>\r\n              <li class=\"flex justify-start\">\r\n                <div class=\"relative max-w-xl px-4 py-2 text-gray-700 rounded shadow\">\r\n                    <span class=\"block\">Lorem ipsum dolor sit, amet consectetur adipisicing elit.\r\n                    </span>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div class=\"flex items-center justify-between w-full p-3 border-t border-gray-300\">\r\n            <button>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n                   stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </button>\r\n            <button>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n                   stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\r\n              </svg>\r\n            </button>\r\n\r\n            <input type=\"text\" placeholder=\"Message\"\r\n                   class=\"block w-full py-2 pl-4 mx-3 bg-gray-100 rounded-full outline-none focus:text-gray-700\"\r\n                   name=\"message\" required />\r\n            <button>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n                   stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                      d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\r\n              </svg>\r\n            </button>\r\n            <button type=\"submit\" >\r\n              <svg class=\"w-5 h-5 text-gray-500 origin-center transform rotate-90\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                   viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path\r\n                    d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SockJS from \"sockjs-client\";\r\nimport Stomp from \"webstomp-client\";\r\nimport AuthService from \"@/services/auth.service\";\r\nimport ChatService from \"@/services/chat.service\";\r\n\r\nexport default {\r\n  name: \"MyChat\",\r\n\r\n  data() {\r\n    return {\r\n      received_messages: Array,\r\n      your_messages: Array,\r\n      chats: Array,\r\n      friends_messages: Array,\r\n      send_message: null,\r\n      connected: false,\r\n      test: null\r\n    };\r\n  },\r\n  methods: {\r\n\r\n\r\n    logout(){\r\n      this.$store.dispatch('auth/logout').then(\r\n          () => {\r\n            this.$router.push('/auth/login')\r\n          },\r\n\r\n      );\r\n    },\r\n\r\n    getChats(){\r\n      this.chats = ChatService.getAllChats();\r\n    },\r\n\r\n    send() {\r\n      this.test = \"Authorization \" + localStorage.getItem(\"X-Authorization\");\r\n\r\n      if (this.send_message !== null)\r\n        this.your_messages.push(this.send_message)\r\n\r\n      console.log(\"Send message:\" + this.send_message);\r\n      if (this.stompClient && this.stompClient.connected && this.send_message !== null) {\r\n        const msg = { name: this.send_message };\r\n        console.log(JSON.stringify(msg));\r\n        this.stompClient.send(\"/app/chat\", JSON.stringify(msg), {});\r\n\r\n      }\r\n      this.send_message = null;\r\n    },\r\n\r\n    connect() {\r\n\r\n      this.socket = new SockJS(\"http://localhost:8022/gs-chat\");\r\n      this.stompClient = Stomp.over(this.socket);\r\n\r\n      this.stompClient.connect(\r\n          {\"Authorization\": \"Bearer \" + AuthService.getToken()},\r\n          frame => {\r\n\r\n            console.log(\"FUCK   \" + frame)\r\n            this.connected = true;\r\n            this.stompClient.subscribe(\"/topic/chat\", tick => {\r\n              this.received_messages.push(JSON.parse(tick.body).content);\r\n            });\r\n          },\r\n          error => {\r\n            console.log(error.body);\r\n            this.connected = false;\r\n          }\r\n      );\r\n    },\r\n\r\n    disconnect() {\r\n      if (this.stompClient) {\r\n        this.stompClient.disconnect();\r\n      }\r\n      this.connected = false;\r\n    },\r\n\r\n    tickleConnection() {\r\n      this.connected ? this.disconnect() : this.connect();\r\n    }\r\n  },\r\n\r\n  beforeMount() {\r\n    this.getChats();\r\n  },\r\n\r\n  mounted() {\r\n    \r\n   this.connect();\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.test{\r\n  position:absolute;\r\n  top:0px;\r\n  right:0px;\r\n  bottom:0px;\r\n  left:0px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}