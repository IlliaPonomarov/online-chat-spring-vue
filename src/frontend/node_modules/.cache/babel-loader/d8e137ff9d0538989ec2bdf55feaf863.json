{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex items-center justify-center min-h-full\"\n};\nconst _hoisted_2 = {\n  class: \"px-8 py-6 mt-4 text-left bg-white shadow-lg\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex justify-center\"\n}, [/*#__PURE__*/_createCommentVNode(\"          class=\\\"w-20 h-20 text-blue-600\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\"), /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-telegram w-30 h-20 text-blue-600\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  style: {\n    \"font-size\": \"68px\"\n  }\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"text-2xl font-bold text-center\"\n}, \"Login to your account\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"mt-4\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block\",\n  for: \"username\"\n}, \"Username\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"mt-4\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block\"\n}, \"Password\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  class: \"text-xs tracking-wide text-red-600\"\n};\nconst _hoisted_11 = {\n  class: \"flex items-baseline justify-between\"\n};\nconst _hoisted_12 = [\"disabled\"];\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  class: \"text-sm text-blue-600 hover:underline\"\n}, \"Forgot password?\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = {\n  class: \"ml-5\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\"Sing up\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createCommentVNode(\" LOGIN FORM\"), _createElementVNode(\"form\", {\n    name: \"form\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.handleLogin && $options.handleLogin(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", null, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.username = $event),\n    placeholder: \"Username\",\n    class: \"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.user.username]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.password = $event),\n    type: \"password\",\n    placeholder: \"Password\",\n    class: \"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.user.password]])]), this.message.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString(this.message), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    disabled: $data.loading,\n    class: \"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\"\n  }, \"Login\", 8\n  /* PROPS */\n  , _hoisted_12), _hoisted_13]), _createElementVNode(\"div\", _hoisted_14, [_createVNode(_component_router_link, {\n    class: \"text-sm text-blue-600 hover:underline\",\n    to: \"/auth/singup\"\n  }, {\n    default: _withCtx(() => [_hoisted_15]),\n    _: 1\n    /* STABLE */\n\n  })])])], 32\n  /* HYDRATE_EVENTS */\n  )])])]);\n}","map":{"version":3,"mappings":";;EAESA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCACTC,oBASM,KATN,EASM;EATDD,KAAK,EAAC;AASL,CATN,EAAgC,cAE9BE,oGAF8B,eAK9BD,oBAA+G,GAA/G,EAA+G;EAA5GD,KAAK,EAAC,wCAAsG;EAA7DG,IAAI,EAAC,MAAwD;EAAjDC,OAAO,EAAC,WAAyC;EAA5BC,KAAuB,EAAvB;IAAA;EAAA;AAA4B,CAA/G,CAL8B,CAAhC;;AAAA;;gCAUAJ,oBAAqE,IAArE,EAAqE;EAAjED,KAAK,EAAC;AAA2D,CAArE,EAA2C,uBAA3C,EAAgE;AAAA;AAAhE;;;EAIOA,KAAK,EAAC;;;gCAKPC,oBAAoD,OAApD,EAAoD;EAA7CD,KAAK,EAAC,OAAuC;EAA/BM,GAAG,EAAC;AAA2B,CAApD,EAAoC,UAApC,EAA4C;AAAA;AAA5C;;;EAaGN,KAAK,EAAC;;;gCACTC,oBAAqC,OAArC,EAAqC;EAA9BD,KAAK,EAAC;AAAwB,CAArC,EAAqB,UAArB,EAA6B;AAAA;AAA7B;;;;;;EASMA,KAAK,EAAC;;;EAITA,KAAK,EAAC;;;;iCAETC,oBAA8E,GAA9E,EAA8E;EAA3EM,IAAI,EAAC,GAAsE;EAAlEP,KAAK,EAAC;AAA4D,CAA9E,EAA0D,kBAA1D,EAA0E;AAAA;AAA1E;;;EAGGA,KAAK,EAAC;;;kDACoE;;;;;uBAvDzFQ,oBAgEM,KAhEN,EAgEM,IAhEN,EAgEM,CA/DJP,oBA8DM,KA9DN,cA8DM,CA7DJA,oBA4DM,KA5DN,cA4DM,CA3DJQ,UA2DI,EAjDJC,UAiDI,EA/CJR,kCA+CI,EA9CJD,oBA6CO,MA7CP,EA6CO;IA7CDU,IAAI,EAAC,MA6CJ;IA7CYC,QAAM,wDAAUC,qDAAV,EAAqB,WAArB;EA6ClB,CA7CP,GACEZ,oBA2CM,KA3CN,cA2CM,CAvCJA,oBAWM,KAXN,EAWM,IAXN,EAWM,CAVJa,UAUI,kBATJb,oBAKwG,OALxG,EAKwG;IAJpGc,EAAE,EAAC,UAIiG;IAHpGC,IAAI,EAAC,MAG+F;+DAF3FC,WAAKC,WAAQC,OAE8E;IADpGC,WAAW,EAAC,UACwF;IAApGpB,KAAK,EAAC;EAA8F,CALxG;;EAAA,kBAGaiB,WAAKC,WAMd,CAXN,CAuCI,EAzBJjB,oBAOM,KAPN,cAOM,CANJoB,UAMI,kBALJpB,oBAIwG,OAJxG,EAIwG;+DAH3FgB,WAAKK,WAAQH,OAG8E;IAFpGH,IAAI,EAAC,UAE+F;IADpGI,WAAW,EAAC,UACwF;IAApGpB,KAAK,EAAC;EAA8F,CAJxG;;EAAA,kBACaiB,WAAKK,WAId,CAPN,CAyBI,OAhBYC,QAAQC,SAAM,mBAA9BhB,oBAEM,KAFN,EAEMiB,UAFN,EAEM,CADJxB,oBAA4E,MAA5E,eAA4EyB,sBAAlBH,OAAkB,CAA5E,EAAiE;EAAA;EAAjE,CACI,CAFN,sCAgBI,EAXJtB,oBAIM,KAJN,eAIM,CAHJA,oBAAsH,QAAtH,EAAsH;IAA7G0B,QAAQ,EAAEV,aAAmG;IAAzFjB,KAAK,EAAC;EAAmF,CAAtH,EAAwG,OAAxG,EAA6G;EAAA;EAA7G,EAA6G4B,WAA7G,CAGI,EAFJC,WAEI,CAJN,CAWI,EANJ5B,oBAEM,KAFN,eAEM,CADJ6B,aAAkGC,sBAAlG,EAAkG;IAArF/B,KAAK,EAAC,uCAA+E;IAAvCgC,EAAE,EAAC;EAAoC,CAAlG;sBAA6E,MAAO;;;;GAApF,CACI,CAFN,CAMI,CA3CN,EADF;;EAAA,CA8CI,CA5DN,CA6DI,CA9DN,CA+DI,CAhEN","names":["class","_createElementVNode","_createCommentVNode","fill","viewBox","style","for","href","_createElementBlock","_hoisted_3","_hoisted_4","name","onSubmit","$options","_hoisted_6","id","type","$data","username","$event","placeholder","_hoisted_8","password","message","length","_hoisted_9","_toDisplayString","disabled","_hoisted_12","_hoisted_13","_createVNode","_component_router_link","to"],"sourceRoot":"","sources":["C:\\Users\\hp\\IdeaProjects\\chat-vue-spring\\src\\frontend-chat\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\r\n  <div >\r\n    <div class=\"flex items-center justify-center min-h-full \">\r\n      <div class=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\r\n        <div class=\"flex justify-center\">\r\n\r\n          <!--          class=\"w-20 h-20 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24-->\r\n\r\n\r\n          <i class=\"fa fa-telegram w-30 h-20 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\"  style=\"font-size:68px;\"></i>\r\n\r\n\r\n\r\n        </div>\r\n        <h3 class=\"text-2xl font-bold text-center\">Login to your account</h3>\r\n\r\n        <!-- LOGIN FORM-->\r\n        <form name=\"form\" @submit.prevent=\"handleLogin\" >\r\n          <div class=\"mt-4\">\r\n\r\n\r\n\r\n            <div>\r\n              <label class=\"block\" for=\"username\">Username</label>\r\n              <input\r\n                  id=\"username\"\r\n                  type=\"text\"\r\n                  v-model=\"user.username\"\r\n                  placeholder=\"Username\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n            <div class=\"mt-4\">\r\n              <label class=\"block\">Password</label>\r\n              <input\r\n                  v-model=\"user.password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\">\r\n            </div>\r\n\r\n            <div v-if=\"this.message.length > 0\">\r\n              <span class=\"text-xs tracking-wide text-red-600\"> {{ this.message }} </span>\r\n            </div>\r\n\r\n\r\n            <div class=\"flex items-baseline justify-between\">\r\n              <button :disabled=\"loading\"  class=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\">Login</button>\r\n              <a href=\"#\" class=\"text-sm text-blue-600 hover:underline\">Forgot password?</a>\r\n\r\n            </div>\r\n            <div class=\"ml-5\">\r\n              <router-link class=\"text-sm text-blue-600 hover:underline\" to=\"/auth/singup\">Sing up</router-link>\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport User from '../model/user'\r\nimport store from '../store/index'\r\nimport {mapActions, mapState} from 'vuex'\r\nexport default {\r\n  name: \"LoginForm\",\r\n\r\n  data(){\r\n    return {\r\n      user: new User('', ''),\r\n      loading: false,\r\n      message: ''\r\n    };\r\n  },\r\n\r\n\r\n  computed: {\r\n    loggedIn() {\r\n      return this.$store.state.auth.status.loggedIn;\r\n    },\r\n\r\n    ...mapState({\r\n      singup: state => state.isRegistration\r\n    })\r\n\r\n\r\n  },\r\n  mounted(){\r\n    if (this.loggedIn)\r\n      this.$router.push('/hello')\r\n\r\n  },\r\n\r\n\r\n\r\n  methods: {\r\n\r\n    registration(){\r\n      store.commit('setRegistration',  true)\r\n\r\n    },\r\n\r\n    handleLogin() {\r\n      this.loading = true;\r\n\r\n\r\n      if (this.user.username === undefined || this.user.password === undefined) {\r\n        this.message = \"Incorrect Username or Password!\"\r\n        this.loading = false;\r\n      }\r\n\r\n\r\n\r\n      if (this.user.username && this.user.password){\r\n        this.$store.dispatch('auth/login', this.user).then(\r\n            () => {\r\n              this.$router.push({ path: '/hello' })\r\n              console.log(88888888888)\r\n            },\r\n            errors => {\r\n              this.loading = false;\r\n              this.message  = (errors.response && errors.response.data) || errors.message || errors.toString();\r\n            }\r\n        )\r\n      }\r\n\r\n\r\n\r\n    },\r\n\r\n    ...mapActions({\r\n      auth: \"auth/login\"\r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}